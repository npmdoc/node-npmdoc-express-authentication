<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/izaakschroeder/express-authentication"

    >express-authentication (v0.3.2)</a>
</h1>
<h4>Unopinionated authentication middleware for express.</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.express-authentication">module express-authentication</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-authentication.express-authentication">
            function <span class="apidocSignatureSpan"></span>express-authentication
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-authentication.failed">
            function <span class="apidocSignatureSpan">express-authentication.</span>failed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-authentication.of">
            function <span class="apidocSignatureSpan">express-authentication.</span>of
            <span class="apidocSignatureSpan">(req)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-authentication.required">
            function <span class="apidocSignatureSpan">express-authentication.</span>required
            <span class="apidocSignatureSpan">(error)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-authentication.succeeded">
            function <span class="apidocSignatureSpan">express-authentication.</span>succeeded
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-authentication.tried">
            function <span class="apidocSignatureSpan">express-authentication.</span>tried
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-authentication.untried">
            function <span class="apidocSignatureSpan">express-authentication.</span>untried
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">express-authentication.</span>index</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.express-authentication.index">module express-authentication.index</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-authentication.index.failed">
            function <span class="apidocSignatureSpan">express-authentication.index.</span>failed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-authentication.index.required">
            function <span class="apidocSignatureSpan">express-authentication.index.</span>required
            <span class="apidocSignatureSpan">(error)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-authentication.index.succeeded">
            function <span class="apidocSignatureSpan">express-authentication.index.</span>succeeded
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-authentication.index.tried">
            function <span class="apidocSignatureSpan">express-authentication.index.</span>tried
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.express-authentication.index.untried">
            function <span class="apidocSignatureSpan">express-authentication.index.</span>untried
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.express-authentication" id="apidoc.module.express-authentication">module express-authentication</a></h1>


    <h2>
        <a href="#apidoc.element.express-authentication.express-authentication" id="apidoc.element.express-authentication.express-authentication">
        function <span class="apidocSignatureSpan"></span>express-authentication
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function authentication(options) {
	options = _.assign({ }, options, {
		context: &#x27;__authentication&#x27;
	});

	var context = contextualize({
		context: options.context,
		properties: [ &#x27;authentication&#x27;, &#x27;authenticated&#x27;, &#x27;challenge&#x27; ]
	});

	var wrapped = _.mapValues(mixins, function wrap(mixin) {
		return function wrapper() {
			return this.use(mixin.apply(this, arguments));
		};
	});

	return context.mixin(wrapped);

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-authentication.failed" id="apidoc.element.express-authentication.failed">
        function <span class="apidocSignatureSpan">express-authentication.</span>failed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function failed() {
	return function check(req, res, next) {
		next(!req.authenticated ? null : &#x27;route&#x27;);
	};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Allow anything to authenticate against this route
app.get(&#x27;/any&#x27;, auth.required());

// Invoke specific middleware when authentication either succeeds or fails
// which is much more powerful than passports `redirect` ability.
app.get(&#x27;/handlers&#x27;, api.succeeded(), redirect());
app.get(&#x27;/handlers&#x27;, session.succeeded(), redirect());
app.get(&#x27;/handlers&#x27;, auth.<span class="apidocCodeKeywordSpan">failed</span>(), redirect());

// Get authentication data from middleware itself
app.get(&#x27;/any&#x27;, function(req, res) {

	// Get anything that was set
	var result = api.of(req);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-authentication.of" id="apidoc.element.express-authentication.of">
        function <span class="apidocSignatureSpan">express-authentication.</span>of
        <span class="apidocSignatureSpan">(req)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function pick(req) {
		return _.pick(req, &#x27;authentication&#x27;, &#x27;authenticated&#x27;, &#x27;challenge&#x27;);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
app.get(&#x27;/handlers&#x27;, session.succeeded(), redirect());
app.get(&#x27;/handlers&#x27;, auth.failed(), redirect());

// Get authentication data from middleware itself
app.get(&#x27;/any&#x27;, function(req, res) {

	// Get anything that was set
	var result = api.<span class="apidocCodeKeywordSpan">of</span>(req);

	if (result.authenticated) {
		// Use auth.data
	}
});

```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-authentication.required" id="apidoc.element.express-authentication.required">
        function <span class="apidocSignatureSpan">express-authentication.</span>required
        <span class="apidocSignatureSpan">(error)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function required(error) {
	if (!(error)) {
		error = {
			status: 401,
			statusCode: 401,
			error: &#x27;AUTHENTICATION_REQUIRED&#x27;
		};
	}
	if (_.isFunction(error)) {
		return function check(req, res, next) {
			if (req.authenticated) {
				next(null);
			} else {
				next(error(req, res));
			}
		};
	} else if (_.isObject(error)) {
		return function check(req, res, next) {
			if (req.authenticated) {
				next(null);
			} else {
				next(error);
			}
		};
	} else {
		throw new TypeError();
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		req.authentication = { error: &#x27;INVALID_API_KEY&#x27; };
	}

	// That&#x27;s it! You&#x27;re done!
	next();
});

app.get(&#x27;/secret&#x27;, authentication.<span class="apidocCodeKeywordSpan">required</span>(), function(req, res) {
	res.status(200).send(&#x27;Hello!&#x27;);
});
```

If you want to use more than one authentication middleware then use the magic of contextualization.

```javascript
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-authentication.succeeded" id="apidoc.element.express-authentication.succeeded">
        function <span class="apidocSignatureSpan">express-authentication.</span>succeeded
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function succeeded() {
	return function check(req, res, next) {
		next(req.authenticated ? null : &#x27;route&#x27;);
	};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
app.get(&#x27;/session&#x27;, session.required());

// Allow anything to authenticate against this route
app.get(&#x27;/any&#x27;, auth.required());

// Invoke specific middleware when authentication either succeeds or fails
// which is much more powerful than passports `redirect` ability.
app.get(&#x27;/handlers&#x27;, api.<span class="apidocCodeKeywordSpan">succeeded</span>(), redirect());
app.get(&#x27;/handlers&#x27;, session.succeeded(), redirect());
app.get(&#x27;/handlers&#x27;, auth.failed(), redirect());

// Get authentication data from middleware itself
app.get(&#x27;/any&#x27;, function(req, res) {

	// Get anything that was set
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-authentication.tried" id="apidoc.element.express-authentication.tried">
        function <span class="apidocSignatureSpan">express-authentication.</span>tried
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function tried() {
	return function check(req, res, next) {
		next(req.challenge ? null : &#x27;route&#x27;);
	};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-authentication.untried" id="apidoc.element.express-authentication.untried">
        function <span class="apidocSignatureSpan">express-authentication.</span>untried
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function untried() {
	return function check(req, res, next) {
		next(!req.challenge ? null : &#x27;route&#x27;);
	};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.express-authentication.index" id="apidoc.module.express-authentication.index">module express-authentication.index</a></h1>


    <h2>
        <a href="#apidoc.element.express-authentication.index.failed" id="apidoc.element.express-authentication.index.failed">
        function <span class="apidocSignatureSpan">express-authentication.index.</span>failed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function failed() {
	return function check(req, res, next) {
		next(!req.authenticated ? null : &#x27;route&#x27;);
	};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Allow anything to authenticate against this route
app.get(&#x27;/any&#x27;, auth.required());

// Invoke specific middleware when authentication either succeeds or fails
// which is much more powerful than passports `redirect` ability.
app.get(&#x27;/handlers&#x27;, api.succeeded(), redirect());
app.get(&#x27;/handlers&#x27;, session.succeeded(), redirect());
app.get(&#x27;/handlers&#x27;, auth.<span class="apidocCodeKeywordSpan">failed</span>(), redirect());

// Get authentication data from middleware itself
app.get(&#x27;/any&#x27;, function(req, res) {

	// Get anything that was set
	var result = api.of(req);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-authentication.index.required" id="apidoc.element.express-authentication.index.required">
        function <span class="apidocSignatureSpan">express-authentication.index.</span>required
        <span class="apidocSignatureSpan">(error)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function required(error) {
	if (!(error)) {
		error = {
			status: 401,
			statusCode: 401,
			error: &#x27;AUTHENTICATION_REQUIRED&#x27;
		};
	}
	if (_.isFunction(error)) {
		return function check(req, res, next) {
			if (req.authenticated) {
				next(null);
			} else {
				next(error(req, res));
			}
		};
	} else if (_.isObject(error)) {
		return function check(req, res, next) {
			if (req.authenticated) {
				next(null);
			} else {
				next(error);
			}
		};
	} else {
		throw new TypeError();
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		req.authentication = { error: &#x27;INVALID_API_KEY&#x27; };
	}

	// That&#x27;s it! You&#x27;re done!
	next();
});

app.get(&#x27;/secret&#x27;, authentication.<span class="apidocCodeKeywordSpan">required</span>(), function(req, res) {
	res.status(200).send(&#x27;Hello!&#x27;);
});
```

If you want to use more than one authentication middleware then use the magic of contextualization.

```javascript
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-authentication.index.succeeded" id="apidoc.element.express-authentication.index.succeeded">
        function <span class="apidocSignatureSpan">express-authentication.index.</span>succeeded
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function succeeded() {
	return function check(req, res, next) {
		next(req.authenticated ? null : &#x27;route&#x27;);
	};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
app.get(&#x27;/session&#x27;, session.required());

// Allow anything to authenticate against this route
app.get(&#x27;/any&#x27;, auth.required());

// Invoke specific middleware when authentication either succeeds or fails
// which is much more powerful than passports `redirect` ability.
app.get(&#x27;/handlers&#x27;, api.<span class="apidocCodeKeywordSpan">succeeded</span>(), redirect());
app.get(&#x27;/handlers&#x27;, session.succeeded(), redirect());
app.get(&#x27;/handlers&#x27;, auth.failed(), redirect());

// Get authentication data from middleware itself
app.get(&#x27;/any&#x27;, function(req, res) {

	// Get anything that was set
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-authentication.index.tried" id="apidoc.element.express-authentication.index.tried">
        function <span class="apidocSignatureSpan">express-authentication.index.</span>tried
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function tried() {
	return function check(req, res, next) {
		next(req.challenge ? null : &#x27;route&#x27;);
	};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.express-authentication.index.untried" id="apidoc.element.express-authentication.index.untried">
        function <span class="apidocSignatureSpan">express-authentication.index.</span>untried
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function untried() {
	return function check(req, res, next) {
		next(!req.challenge ? null : &#x27;route&#x27;);
	};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
